{"version":3,"sources":["Components/Services/imagesAPI.js","Components/SearchBar/Searchbar.jsx","Components/Button/Button.jsx","Components/Modal/Modal.jsx","Components/ImageGalleryItem/ImageGalleryItem.jsx","Components/ImageGallery/ImageGallery.jsx","Components/Notification/Notification.jsx","App.js","index.js"],"names":["fetchImages","name","page","fetch","then","response","ok","json","Promise","reject","Error","Searchbar","onSubmit","useState","imageName","setImageName","reset","className","e","preventDefault","trim","toast","type","value","onChange","event","currentTarget","toLowerCase","autoComplete","autoFocus","placeholder","Button","onClick","setTimeout","window","scrollBy","top","document","documentElement","clientHeight","behavior","modalRoot","querySelector","Modal","src","alt","onClose","isFirstRender","useRef","useEffect","current","addEventListener","handleKeyDown","removeEventListener","code","createPortal","target","ImageGalleryItem","largeImageUrl","showModal","setShowModal","toggleModal","ImageGallery","images","map","image","index","webformatURL","tags","largeImageURL","Notification","text","defaultProps","App","setPage","setImages","status","setStatus","error","setError","newImages","total","prevImages","hits","scrollTo","scrollHeight","catch","err","onClickLoadMore","handleFormSubmit","position","autoClose","hideProgressBar","newestOnTop","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b60f590c.chunk.js","sourcesContent":["function fetchImages(name, page) {\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${name}&page=${page}&key=21770810-71d636d270901957bd723d7c5&image_type=photo&orientation=horizontal&per_page=12`\r\n  ).then((response) => {\r\n    if (response.ok) {\r\n      return response.json();\r\n    }\r\n\r\n    return Promise.reject(new Error(\"Not found. Try to change name\"));\r\n  });\r\n}\r\n\r\nexport default fetchImages;\r\n","import { useState } from \"react\";\r\nimport React from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nexport default function Searchbar({ onSubmit }) {\r\n  const [imageName, setImageName] = useState(\"\");\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (imageName.trim() === \"\") {\r\n      // alert(\"Please enter search query\");\r\n      toast(\"ðŸ¦„Please enter search query\");\r\n      return;\r\n    }\r\n\r\n    onSubmit(imageName);\r\n    reset();\r\n  };\r\n  const reset = () => {\r\n    setImageName(\"\");\r\n  };\r\n  return (\r\n    <header className='Searchbar'>\r\n      <form className='SearchForm' onSubmit={handleSubmit}>\r\n        <button type='submit' className='SearchForm-button'></button>\r\n        <input\r\n          value={imageName}\r\n          onChange={(event) =>\r\n            setImageName(event.currentTarget.value.toLowerCase())\r\n          }\r\n          className='SearchForm-input'\r\n          type='text'\r\n          autoComplete='off'\r\n          autoFocus\r\n          placeholder='Search images and photos'\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n","function Button({ onClick }) {\r\n  const scroll = () => {\r\n    onClick();\r\n    setTimeout(() => {\r\n      window.scrollBy({\r\n        top: document.documentElement.clientHeight - 130,\r\n        behavior: \"smooth\",\r\n      });\r\n    }, 500);\r\n  };\r\n\r\n  return (\r\n    <button onClick={scroll} className='Button' type='button'>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default Button;\r\n","import { useEffect, useRef } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\n\r\nfunction Modal({ src, alt, onClose }) {\r\n  const isFirstRender = useRef(true);\r\n\r\n  useEffect(() => {\r\n    if (isFirstRender.current) {\r\n      window.addEventListener(\"keydown\", handleKeyDown);\r\n      isFirstRender.current = false;\r\n      return;\r\n    }\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", handleKeyDown);\r\n    };\r\n  });\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (e.code === \"Escape\") {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  const handleBackdropClick = (event) => {\r\n    if (event.currentTarget === event.target) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return createPortal(\r\n    <div className='Overlay' onClick={handleBackdropClick}>\r\n      <div className='Modal'>\r\n        <img src={src} alt={alt} />\r\n      </div>\r\n    </div>,\r\n    modalRoot\r\n  );\r\n}\r\n\r\nexport default Modal;\r\n","import { useState } from \"react\";\r\nimport Modal from \"../Modal/Modal\";\r\n\r\nfunction ImageGalleryItem({ src, alt, largeImageUrl }) {\r\n  const [showModal, setShowModal] = useState(false);\r\n  const toggleModal = () => setShowModal(!showModal);\r\n\r\n  return (\r\n    <li className='ImageGalleryItem'>\r\n      <img\r\n        onClick={toggleModal}\r\n        src={src}\r\n        alt={alt}\r\n        className='ImageGalleryItem-image'\r\n      />\r\n      {showModal && (\r\n        <Modal onClose={toggleModal} src={largeImageUrl} alt={alt} />\r\n      )}\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\r\n\r\nfunction ImageGallery({ images }) {\r\n  return (\r\n    <ul className='ImageGallery'>\r\n      {images.map((image, index) => (\r\n        <ImageGalleryItem\r\n          key={index}\r\n          src={image.webformatURL}\r\n          alt={image.tags}\r\n          largeImageUrl={image.largeImageURL}\r\n        />\r\n      ))}\r\n    </ul>\r\n  );\r\n}\r\n\r\nexport default ImageGallery;\r\n","import React from \"react\";\r\nfunction Notification({ text }) {\r\n  return <p> {text} </p>;\r\n}\r\n\r\nNotification.defaultProps = {\r\n  text: \"Something went wrong, please try again later \",\r\n};\r\n\r\nexport default Notification;\r\n","import { useState, useEffect } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport Loader from \"react-loader-spinner\";\nimport fetchImages from \"./Components/Services/imagesAPI\";\nimport \"./App.css\";\nimport Searchbar from \"./Components/SearchBar/Searchbar\";\nimport Button from \"./Components/Button/Button\";\nimport ImageGallery from \"./Components/ImageGallery/ImageGallery.jsx\";\nimport Notification from \"./Components/Notification/Notification\";\n\nexport default function App() {\n  const [imageName, setImageName] = useState(\"\");\n  const [page, setPage] = useState(1);\n  const [images, setImages] = useState([]);\n  const [status, setStatus] = useState(\"idle\");\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    if (!imageName) return;\n\n    setStatus(\"pending\");\n\n    fetchImages(imageName, page)\n      .then((newImages) => {\n        if (newImages.total > 0) {\n          setImages((prevImages) => [...prevImages, ...newImages.hits]);\n          setStatus(\"resolved\");\n          page > 1 &&\n            window.scrollTo({\n              top: document.documentElement.scrollHeight,\n              behavior: \"smooth\",\n            });\n        } else return Promise.reject(new Error(\"Invalid request\"));\n      })\n      .catch((err) => {\n        setError(err);\n        setStatus(\"rejected\");\n      });\n  }, [imageName, page, setImages]);\n\n  const onClickLoadMore = () => setPage((page) => page + 1);\n\n  const handleFormSubmit = (value) => {\n    setImageName(value);\n    setPage(1);\n    setImages([]);\n  };\n\n  switch (status) {\n    case \"idle\":\n      return (\n        <div>\n          <Searchbar onSubmit={handleFormSubmit} />\n        </div>\n      );\n\n    case \"pending\":\n      return (\n        <div>\n          <Searchbar onSubmit={handleFormSubmit} />\n          <ImageGallery images={images} />\n          <Loader />\n          <Button onClick={onClickLoadMore} />\n        </div>\n      );\n    case \"resolved\":\n      return (\n        <div>\n          <Searchbar onSubmit={handleFormSubmit} />\n          <ImageGallery images={images} />\n          <Button onClick={onClickLoadMore} />\n        </div>\n      );\n    case \"rejected\":\n      return (\n        <div>\n          <Searchbar onSubmit={handleFormSubmit} />\n          <Notification text={error.text} />\n        </div>\n      );\n    default:\n      return (\n        <div>\n          <Searchbar onSubmit={handleFormSubmit} />\n          <ToastContainer\n            position='top-center'\n            autoClose={5000}\n            hideProgressBar={false}\n            newestOnTop\n            closeOnClick\n            rtl={false}\n            pauseOnFocusLoss\n            draggable\n            pauseOnHover\n          />\n        </div>\n      );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}